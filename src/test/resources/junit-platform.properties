# Optimized JUnit 5 Configuration for Parallel Selenium Execution

# Enable parallel execution
junit.jupiter.execution.parallel.enabled=true
junit.jupiter.execution.parallel.mode.default=concurrent
junit.jupiter.execution.parallel.mode.classes.default=concurrent

# Optimized parallel configuration for Selenium tests
junit.jupiter.execution.parallel.config.strategy=dynamic
junit.jupiter.execution.parallel.config.dynamic.factor=1.0
junit.jupiter.execution.parallel.config.dynamic.max-pool-size-factor=1.5
junit.jupiter.execution.parallel.config.dynamic.core-pool-size-factor=0.5
junit.jupiter.execution.parallel.config.dynamic.keep-alive=30s

# Custom parallel configuration for different test types
# Selenium tests: Limited by container resources
junit.jupiter.execution.parallel.config.custom.class.ui-tests=1
# Repository tests: Database transaction isolated, reduced for connection pool stability
junit.jupiter.execution.parallel.config.custom.class.database-tests=2
# Integration tests: Database connection limited
junit.jupiter.execution.parallel.config.custom.class.medium-tests=1
# Unit tests: CPU bound, can use more threads
junit.jupiter.execution.parallel.config.custom.class.unit-tests=dynamic

# Repository test specific configuration
# Enable parallel execution for repository tests by default
junit.jupiter.execution.parallel.mode.repository=concurrent
junit.jupiter.execution.parallel.config.repository.timeout=30s

# Optimized timeouts for parallel execution
junit.jupiter.execution.timeout.default=15m
junit.jupiter.execution.timeout.testable.method.default=8m
junit.jupiter.execution.timeout.testable.method.selenium=10m
junit.jupiter.execution.timeout.test.method.default=5m

# Test instance lifecycle
junit.jupiter.testinstance.lifecycle.default=per_class

# Display configuration
junit.jupiter.displayname.generator.default=org.junit.jupiter.api.DisplayNameGenerator$ReplaceUnderscores

# Test method ordering
junit.jupiter.testmethod.order.default=org.junit.jupiter.api.MethodOrderer$OrderAnnotation

# Extensions autodetection
junit.jupiter.extensions.autodetection.enabled=true